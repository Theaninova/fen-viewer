import{U as E,S as M,i as O,s as V,x as P,y as k,z as D,r as d,p as $,C as x,e as y,t as z,k as I,c as C,a as S,h as A,d as v,m as w,b as B,g as H,J as f,q as J,R,V as U,w as j,o as F}from"../chunks/index-b452b8f2.js";import"../chunks/ChessBoard-57b76d56.js";import{C as K,S as L,p as Q,G as T}from"../chunks/CreateGameInput-85b4594d.js";import{c as h}from"../chunks/singletons-d1fb5791.js";const W=()=>{const s=E("__svelte__");return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:s.navigating.subscribe}},session:s.session,updated:s.updated}},X={subscribe(s){return W().page.subscribe(s)}};h.disable_scroll_handling;const Y=h.goto;h.invalidate;h.prefetch;h.prefetch_routes;h.before_navigate;h.after_navigate;function G(s,t,i){const r=s.slice();return r[4]=t[i],r}function N(s){let t,i;return t=new T({props:{game:s[4],serverConnection:s[0]}}),{c(){P(t.$$.fragment)},l(r){k(t.$$.fragment,r)},m(r,g){D(t,r,g),i=!0},p(r,g){const l={};g&2&&(l.game=r[4]),g&1&&(l.serverConnection=r[0]),t.$set(l)},i(r){i||(d(t.$$.fragment,r),i=!0)},o(r){$(t.$$.fragment,r),i=!1},d(r){x(t,r)}}}function Z(s){let t,i,r,g,l,m,c,b,u=s[1],a=[];for(let e=0;e<u.length;e+=1)a[e]=N(G(s,u,e));const q=e=>$(a[e],1,1,()=>{a[e]=null});return c=new K({props:{serverConnection:s[0]}}),{c(){t=y("main"),i=y("h1"),r=z("Ongoing Games"),g=I(),l=y("div");for(let e=0;e<a.length;e+=1)a[e].c();m=I(),P(c.$$.fragment),this.h()},l(e){t=C(e,"MAIN",{});var o=S(t);i=C(o,"H1",{});var p=S(i);r=A(p,"Ongoing Games"),p.forEach(v),g=w(o),l=C(o,"DIV",{class:!0});var n=S(l);for(let _=0;_<a.length;_+=1)a[_].l(n);m=w(n),k(c.$$.fragment,n),n.forEach(v),o.forEach(v),this.h()},h(){B(l,"class","game-container svelte-wqxk1r")},m(e,o){H(e,t,o),f(t,i),f(i,r),f(t,g),f(t,l);for(let p=0;p<a.length;p+=1)a[p].m(l,null);f(l,m),D(c,l,null),b=!0},p(e,[o]){if(o&3){u=e[1];let n;for(n=0;n<u.length;n+=1){const _=G(e,u,n);a[n]?(a[n].p(_,o),d(a[n],1)):(a[n]=N(_),a[n].c(),d(a[n],1),a[n].m(l,m))}for(F(),n=u.length;n<a.length;n+=1)q(n);J()}const p={};o&1&&(p.serverConnection=e[0]),c.$set(p)},i(e){if(!b){for(let o=0;o<u.length;o+=1)d(a[o]);d(c.$$.fragment,e),b=!0}},o(e){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)$(a[o]);$(c.$$.fragment,e),b=!1},d(e){e&&v(t),R(a,e),x(c)}}}function ee(s,t,i){let r,g;U(s,X,c=>i(3,g=c));let l=[],m;return j(()=>{i(0,m=new L("ws://localhost:8025",{playerName:g.url.searchParams.get("playerName"),playerID:Number(g.url.searchParams.get("playerID"))})),m.session.then(c=>{console.log("session:",c),g.url.searchParams.set("playerName",c.playerName),g.url.searchParams.set("playerID",c.playerID.toString()),Y(`?${g.url.searchParams.toString()}`)}),m.updateState(500,c=>{i(2,l=c.games)})}),s.$$.update=()=>{s.$$.dirty&4&&i(1,r=Q(l))},[m,r,l]}class ne extends M{constructor(t){super(),O(this,t,ee,Z,V,{})}}export{ne as default};
